```mermaid
graph TD
  A[開始] --> B[両方のフィールドが入力されているか?]
  B -- いいえ --> C[関数終了]
  B -- はい --> D[エラーメッセージ行が既に存在するか?]
  D -- はい --> E[メールが一致しているか?]
  D -- いいえ --> F[エラーメッセージ行を追加]
  E -- いいえ --> F
  E -- はい --> G[エラーメッセージ行を削除]
  F --> H[確認用メールアドレスの背景を赤にする]
  G --> I[背景色をリセット]
  H --> I
  I --> C
